<div class="centered">
  <h2>Facturas de la empresa {{ empresaId }}</h2>
  <div class="form-container-table">
    <table mat-table [dataSource]="facturas" class="mat-elevation-z8">

      <!-- Número de factura -->
      <ng-container matColumnDef="numeroFactura">
        <th mat-header-cell *matHeaderCellDef> Nº Factura </th>
        <td mat-cell *matCellDef="let f"> {{ f.numeroFactura }} </td>
      </ng-container>

      <!-- Fecha de emisión -->
      <ng-container matColumnDef="fechaEmision">
        <th mat-header-cell *matHeaderCellDef> Fecha Emisión </th>
        <td mat-cell *matCellDef="let f"> {{ f.fechaEmision | date }} </td>
      </ng-container>

      <!-- Total factura -->
      <ng-container matColumnDef="totalFactura">
        <th mat-header-cell *matHeaderCellDef> Total (€) </th>
        <td mat-cell *matCellDef="let f"> {{ f.totalFactura }} € </td>
      </ng-container>

      <!-- Estado -->
      <ng-container matColumnDef="estado">
        <th mat-header-cell *matHeaderCellDef> Estado </th>
        <td mat-cell *matCellDef="let f"> {{ f.estado }} </td>
      </ng-container>

      <!-- Acciones -->
      <ng-container matColumnDef="acciones">
        <th mat-header-cell *matHeaderCellDef> Acciones </th>
        <td mat-cell *matCellDef="let f">

          <button mat-icon-button color="primary"
            (click)="descargarFacturaPdf(f.id)"
            matTooltip="Descargar PDF">
            <mat-icon>picture_as_pdf</mat-icon>
          </button>
        </td>
      </ng-container>

      <!-- Filas de encabezado y datos -->
      <tr mat-header-row
        *matHeaderRowDef="['numeroFactura','fechaEmision','totalFactura','estado','acciones']"></tr>
      <tr mat-row
        *matRowDef="let row; columns: ['numeroFactura','fechaEmision','totalFactura','estado','acciones'];"></tr>

    </table>
  </div>
</div>
